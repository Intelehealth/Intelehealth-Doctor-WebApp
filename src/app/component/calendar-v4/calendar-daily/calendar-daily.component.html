<div class="daily-view-containr d-flex">
  <div class="timings-container">
    <div class="timing-list">
      <div class="time position-relative" *ngFor="let time of timings">
        {{ time }}
        <span class="position-absolute scale-time"></span>
      </div>
    </div>
  </div>
  <div class="daily-appointments w-100 h-100">
    <div class="appointments w-100" *ngFor="let time of timings, index as i">
      <div *ngIf="showTimer !== getTime(timings[i],timings[i+1])">
        <span class="time-circle"></span>
        <span class="conditional"></span>
      </div> 
      <div [class.hours-off]="time === offSlot(time)" [ngClass]="time === slot(time)?.startTime ? 'available-slots' : ''" class=" h-100">
        <div class="row h-100">
          <ng-container *ngIf="time === slot(time)?.startTime && slot(time)?.type === 'followUp'">
            <div class="col h-100 visit-info mt click" (click)="handleClick(slot(time))">
              <div class="d-flex">
                <img src="assets/svgs/consultaion-light-bg.svg" />
                <div class="d-grid">
                  <div class="label">Follow-up Visit</div>
                  <div class="sub-text">{{slot(time)?.startTime}}</div>
                </div>
              </div>
            </div>

            <div class="col h-100 patient-info mt click" (click)="handleClick(slot(time))">
              <div class="d-flex">
                <img src="{{ baseUrl + '/personimage/' + slot(time)?.patientId}}" class="profileImg" (error) ="onImgError($event)" />
                <div class="d-grid">
                  <div class="label">{{slot(time)?.patientName}}..({{slot(time)?.gender}},{{slot(time)?.age}})</div>
                  <div class="sub-text">Patient</div>
                </div>
              </div>
            </div>

            <div class="col h-100 hw-info mt click" (click)="handleClick(slot(time))">
              <div class="d-flex">
                <img src="{{ base + '/di/' + slot(time)?.hwUUID +'_image.png'}}" class="profileImg" (error) ="onImgError($event)" />
                <div class="d-grid">
                  <div class="label">{{slot(time)?.healthWorker}}..({{slot(time)?.hwGender}},{{slot(time)?.hwAge}})</div>
                  <div class="sub-text">Health Worker</div>
                </div>
              </div>
            </div>
          </ng-container>
          <ng-container *ngIf="time === slot(time)?.startTime && slot(time)?.type === 'appointment'">
            <div class="col h-100 visit-info mt click" (click)="handleClick(slot(time))">
              <div class="d-flex">
                <img src="assets/svgs/appointment.svg" />
                <div class="d-grid">
                  <div class="label">Appointment</div>
                  <div class="sub-text">{{ slot(time)?.startTime }} - {{ slot(time)?.endTime }}</div>
                </div>
              </div>
            </div>

            <div class="col h-100 patient-info mt click" (click)="handleClick(slot(time))">
              <div class="d-flex">
                <img src="{{ baseUrl + '/personimage/' + slot(time)?.patientId}}"  class="profileImg" (error) ="onImgError($event)" />
                <div class="d-grid">
                  <div class="label">{{slot(time)?.patientName}}..({{slot(time)?.gender}},{{slot(time)?.age}})</div>
                  <div class="sub-text">Patient</div>
                </div>
              </div>
            </div>

            <div class="col h-100 hw-info mt click" (click)="handleClick(slot(time))">
              <div class="d-flex">
                <img src="{{ base + '/di/' + slot(time)?.hwUUID +'_image.png'}}" class="profileImg" (error) ="onImgError($event)" />
                <div class="d-grid">
                  <div class="label">{{slot(time)?.healthWorker}}..({{slot(time)?.hwGender}},{{slot(time)?.hwAge}})</div>
                  <div class="sub-text">Health Worker</div>
                </div>
              </div>
            </div>
          </ng-container>
        </div>
      </div>
      <!-- <div
        *ngIf="offSlot(time)"
      
        class="hours-off h-100 w-100"
      >
        <div
          *ngIf="hoursOffSlots?.[0] === offSlot(time)"
          class="hours-off-label m-auto"
        > Hours off
        </div>
      </div> -->
    </div>
  </div>
</div>
