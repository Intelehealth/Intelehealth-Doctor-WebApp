<div>
      <h2 style="text-align:center;">{{ 'Visit Summary'| translate }}</h2>
</div>
<mat-spinner *ngIf="setSpiner" [diameter]="70"></mat-spinner>
<div class="container" [ngClass]="(setSpiner)?'spin':''">
      <mat-card>
            <app-patientinfo></app-patientinfo>
      </mat-card>
      <br>
      <mat-card *ngIf="userSpeciality == 'Admin'">
        <app-aid-assessment></app-aid-assessment>
      </mat-card>
      <br>
      <mat-card>
            <app-past-visits></app-past-visits>
      </mat-card>
      <br>
      <mat-card>
            <app-current-visit></app-current-visit>
      </mat-card>
      <br>
      <mat-card>
            <app-presenting-complaints></app-presenting-complaints>
      </mat-card>
      <br>
      <mat-card>
            <app-family-history></app-family-history>
      </mat-card>
      <br>
      <mat-card>
            <app-past-medical-history></app-past-medical-history>
      </mat-card>
      <br>
      <mat-card>
            <app-vital></app-vital>
      </mat-card>
      <br>
      <mat-card>
            <app-on-examination></app-on-examination>
      </mat-card>
      <br>
      <mat-card>
            <app-physical-examination></app-physical-examination>
      </mat-card>
      <br>
      <mat-card>
            <app-additional-documents></app-additional-documents>
      </mat-card>
      <br>
      <!-- <mat-card *ngIf="!visitNotePresent">
        <app-reassign-speciality [isManagerRole]="isManagerRole"></app-reassign-speciality>
      </mat-card> -->
      <br>
      <mat-card [ngClass]="getLang() === 'ar' ? 'class1' : 'class2'">
            <small style="color: red">
                  <i>
                        <b>{{ 'Note' | translate }}:</b>
                        {{ 'This history note and physical exam note was generated by a community health worker with the'| translate }}
                        {{ 'support of the Intelehealth mobile application and Ayu, a digital assistant. It collects only'| translate }}
                        {{ 'preliminary findings and may not gather all of the patient clinical information, especially' | translate }}
                        {{ 'sensitive information or complex physical exam information which is hard for the health worker' | translate }}
                        {{ 'to collect. Please verify crucial clinical information and collect any additional information' | translate }}
                        {{ 'you require by speaking with the patient directly.' | translate }}
                  </i>
            </small>
      </mat-card>
      <br>


      <div class="text-center" *ngIf="!show">
            <button (click)="onStartVisit()" id="start-visit" mat-raised-button color="primary"
            [disabled]="isSameSpecialityDoctorViewingVisit || (visitSpeciality != userSpeciality && visitSpecialitySecondary != userSpeciality ) || isManagerRole">{{'Start Visit Note' | translate}}</button>
      </div>

      <br>

      <div *ngIf="show">
            <mat-card>
                  <app-patient-interaction [isManagerRole]="isManagerRole"></app-patient-interaction>
            </mat-card>
            <br>
            <mat-card>
                  <app-diagnosis [isManagerRole]="isManagerRole"></app-diagnosis>
            </mat-card>
            <br>
            <mat-card>
                  <app-prescribed-medication [isManagerRole]="isManagerRole"></app-prescribed-medication>
            </mat-card>
            <br>
            <mat-card>
                  <app-prescribed-test [isManagerRole]="isManagerRole"></app-prescribed-test>
            </mat-card>
            <br>
            <mat-card>
                  <app-advice [isManagerRole]="isManagerRole"></app-advice>
            </mat-card>
            <br>
            <mat-card>
              <app-aid-order [isManagerRole]="isManagerRole"></app-aid-order>
            </mat-card>
            <br>
            <mat-card>
                  <app-additional-comment [isManagerRole]="isManagerRole"></app-additional-comment>
            </mat-card>
            <br>
            <mat-card>
                  <app-follow-up [isManagerRole]="isManagerRole"></app-follow-up>
            </mat-card>
            <br>
            <mat-card>
              <app-discharge-order [isManagerRole]="isManagerRole"></app-discharge-order>
            </mat-card>
            <br>
            <mat-card *ngIf="!(userSpeciality == 'Admin' && visitSpecialitySecondary == 'Admin')">
              <app-reassign-speciality [isManagerRole]="isManagerRole" [providerSpeciality]="userSpeciality" [visitSpeciality]="visitSpeciality" [visitSpecialitySecondary]="visitSpecialitySecondary"></app-reassign-speciality>
            </mat-card>
            <br>
            <ng-container *ngIf="visitCompletePresent">
                  <div class="d-flex justify-content-center">
                        <mat-card>
                              <div [style.font-family]="font" style="font-size: 50px">{{text}}</div>
                        </mat-card>
                  </div>
                  <br>
            </ng-container>

            <div class="text-center">
                  <button (click)="sign()" id="sign-button" mat-raised-button color="primary"
                  [disabled]="!isVisitNoteEncProvider || visitCompletePresent || isManagerRole">{{ 'Sign and Submit' | translate }}</button>
            </div>
      </div>
</div>
<app-chat></app-chat>
<div class="vc-button" (click)="openVcModal()">
  <span>
    <img [src]="videoIcon" />
  </span>
</div>
