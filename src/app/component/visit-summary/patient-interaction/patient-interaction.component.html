<h4><i class="material-icons">contact_phone</i> Patient Interaction</h4>
<hr />
<div>Details of doctor-patient/doctor-health worker interactions</div>
<form [formGroup]="interactionForm" (ngSubmit)="submit()">
  <div id="patient-interaction">
    <br />
    <mat-radio-group aria-label="Select an option" formControlName="interaction"  [(ngModel)]="interactionType">
      <mat-radio-button  (change)="interactionType = 'Spoke with the patient directly';isCommentAdded=false;clearComment()" value="Spoke with the patient directly">
        Spoke with the patient directly</mat-radio-button>
      <mat-radio-button  (change)="interactionType = 'Spoke with the health worker';isCommentAdded=true;clearComment()" value="Spoke with the health worker">
        Spoke with the health worker<span class="red-star">*</span></mat-radio-button>
      <mat-radio-button  (change)="interactionType = 'None';isCommentAdded=true;clearComment()" value="None">
        None<span class="red-star">*</span></mat-radio-button>
    </mat-radio-group>&nbsp;&nbsp;&nbsp;&nbsp;
    <br/>
    <mat-form-field class="example-full-width" [hidden]="msg.length > 0"> 
      <textarea matInput placeholder="Comment" formControlName='comment' (change)="setCommentAddedFlag($event)"></textarea>
    </mat-form-field>
    <button type="submit" mat-raised-button color="primary" [disabled]="!interactionForm.valid || isCommentAdded || isManagerRole" [hidden]="msg.length > 0">
      Submit
    </button>
  </div>
  <div id="call-link" *ngIf="whatsappLink || phoneNo">
    Start a call:
    <span *ngIf="whatsappLink"><a class="fab fa-whatsapp" href="{{ whatsappLink }}" target="_blank"></a></span>
    <span *ngIf="phoneNo"><a href="tel:{{ phoneNo }}" class="fas fa-phone-volume"></a></span>
  </div>
  <div id="call-link" *ngIf="!whatsappLink && !phoneNo">
    Please provide health worker's contact number at
    <a href="mailto:support@intelehealth.io">support@intelehealth.io</a> to
    proceed with the call or message
    <br />
  </div>

  <div *ngFor="let msg of msg">
    <div [@moveInLeft] class="alert alert-primary">
      <div class="doctor-value">{{ msg.value }}</div>
      <i (click)="delete(msg.uuid)" class="material-icons float-right"
      style="color: rgb(235, 30, 30); cursor: pointer" [class.disabled]="isManagerRole">delete</i>
    </div>
  </div>
</form>