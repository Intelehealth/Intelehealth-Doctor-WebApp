<h4>
  <i class="fas fa-pills"></i> Nutritionist Prescription<span class="red-star"
    >*</span
  >
</h4>
<hr />
<div>
  <div>
    <mat-form-field class="w-100 col-7" id="medication-form">
      <input
        matInput
        placeholder="Early Morning"
        [(ngModel)]="earlyMorning.value"
        [ngbTypeahead]="searchEarlyMorning"
      />
    </mat-form-field>
    <mat-form-field class="w-100 col-2" id="medication-form">
      <input
        matInput
        type="number"
        placeholder="Quantity"
        [(ngModel)]="earlyMorning.qty"
      />
    </mat-form-field>
    <mat-form-field class="w-100 col-2" id="medication-form">
      <input matInput placeholder="Unit" [(ngModel)]="earlyMorning.unit" />
    </mat-form-field>
    <mat-icon
      (click)="add(earlyMorning, 'Early Morning')"
      [class.disabled]="invalid(earlyMorning)"
      class="col-1 add"
      >add_circle</mat-icon
    >
  </div>

  <div>
    <mat-form-field class="w-100 col-7" id="medication-form">
      <input
        matInput
        placeholder="Breakfast"
        [(ngModel)]="breakfast.value"
        [ngbTypeahead]="searchBreakfast"
      />
    </mat-form-field>
    <mat-form-field class="w-100 col-2" id="medication-form">
      <input
        matInput
        type="number"
        placeholder="Quantity"
        [(ngModel)]="breakfast.qty"
      />
    </mat-form-field>
    <mat-form-field class="w-100 col-2" id="medication-form">
      <input matInput placeholder="Unit" [(ngModel)]="breakfast.unit" />
    </mat-form-field>
    <mat-icon
      (click)="add(breakfast, 'Breakfast')"
      [class.disabled]="invalid(breakfast)"
      class="col-1 add"
      >add_circle</mat-icon
    >
  </div>

  <div>
    <mat-form-field class="w-100 col-7" id="medication-form">
      <input
        matInput
        placeholder="Mid Morning"
        [(ngModel)]="midMorning.value"
        [ngbTypeahead]="searchMidMorning"
      />
    </mat-form-field>
    <mat-form-field class="w-100 col-2" id="medication-form">
      <input
        matInput
        type="number"
        placeholder="Quantity"
        [(ngModel)]="midMorning.qty"
      />
    </mat-form-field>
    <mat-form-field class="w-100 col-2" id="medication-form">
      <input matInput placeholder="Unit" [(ngModel)]="midMorning.unit" />
    </mat-form-field>
    <mat-icon
      (click)="add(midMorning, 'Mid Morning')"
      [class.disabled]="invalid(midMorning)"
      class="col-1 add"
      >add_circle</mat-icon
    >
  </div>

  <div>
    <mat-form-field class="w-100 col-7" id="medication-form">
      <input
        matInput
        placeholder="Lunch"
        [(ngModel)]="lunch.value"
        [ngbTypeahead]="searchLunch"
      />
    </mat-form-field>
    <mat-form-field class="w-100 col-2" id="medication-form">
      <input
        matInput
        type="number"
        placeholder="Quantity"
        [(ngModel)]="lunch.qty"
      />
    </mat-form-field>
    <mat-form-field class="w-100 col-2" id="medication-form">
      <input matInput placeholder="Unit" [(ngModel)]="lunch.unit" />
    </mat-form-field>
    <mat-icon
      (click)="add(lunch, 'Lunch')"
      [class.disabled]="invalid(lunch)"
      class="col-1 add"
      >add_circle</mat-icon
    >
  </div>

  <div>
    <mat-form-field class="w-100 col-7" id="medication-form">
      <input
        matInput
        placeholder="Evening Snack"
        [(ngModel)]="eveningSnack.value"
        [ngbTypeahead]="searchEveningSnack"
      />
    </mat-form-field>
    <mat-form-field class="w-100 col-2" id="medication-form">
      <input
        matInput
        type="number"
        placeholder="Quantity"
        [(ngModel)]="eveningSnack.qty"
      />
    </mat-form-field>
    <mat-form-field class="w-100 col-2" id="medication-form">
      <input matInput placeholder="Unit" [(ngModel)]="eveningSnack.unit" />
    </mat-form-field>
    <mat-icon
      (click)="add(eveningSnack, 'Evening Snack')"
      [class.disabled]="invalid(eveningSnack)"
      class="col-1 add"
      >add_circle</mat-icon
    >
  </div>

  <div>
    <mat-form-field class="w-100 col-7" id="medication-form">
      <input
        matInput
        placeholder="Dinner"
        [(ngModel)]="dinner.value"
        [ngbTypeahead]="searchDinner"
      />
    </mat-form-field>
    <mat-form-field class="w-100 col-2" id="medication-form">
      <input
        matInput
        type="number"
        placeholder="Quantity"
        [(ngModel)]="dinner.qty"
      />
    </mat-form-field>
    <mat-form-field class="w-100 col-2" id="medication-form">
      <input matInput placeholder="Unit" [(ngModel)]="dinner.unit" />
    </mat-form-field>
    <mat-icon
      (click)="add(dinner, 'Dinner')"
      class="col-1 add"
      [class.disabled]="invalid(dinner)"
      >add_circle</mat-icon
    >
  </div>

  <div>
    <mat-form-field class="w-100 col-7" id="medication-form">
      <input
        matInput
        placeholder="Bed Time"
        [(ngModel)]="bedTime.value"
        [ngbTypeahead]="searchBedTime"
      />
    </mat-form-field>
    <mat-form-field class="w-100 col-2" id="medication-form">
      <input
        matInput
        type="number"
        placeholder="Quantity"
        [(ngModel)]="bedTime.qty"
      />
    </mat-form-field>
    <mat-form-field class="w-100 col-2" id="medication-form">
      <input matInput placeholder="Unit" [(ngModel)]="bedTime.unit" />
    </mat-form-field>
    <mat-icon
      (click)="add(bedTime, 'Bed Time')"
      [class.disabled]="invalid(bedTime)"
      class="col-1 add"
      >add_circle</mat-icon
    >
  </div>

  <!-- <button
    type="reset"
    (click)="submit()"
    mat-raised-button
    color="primary"
    [disabled]="isInvalid"
  >
    Add Prescription
  </button> -->
</div>

<!-- <div>
  <form [formGroup]="medForm">
    <mat-form-field class="w-100" id="medication-form">
      <input matInput placeholder="Medication" (keydown)="add = true" [ngbTypeahead]="searchPrescription"
        formControlName="med">
    </mat-form-field>
    <div *ngIf="add">
      <div class="form-row">
        <div class="col">
          <input type="number" min="0" step="0.01" pattern="^\d+(?:\.\d{1,2})?$" class="form-control"
            placeholder="Strength" formControlName="dose">
        </div>
        <div class="col">
          <input type="text" class="form-control" [ngbTypeahead]="searchDose" placeholder="Units (eg: mg)"
            formControlName="unit">
        </div>
        <div class="col">
          <input type="number" min="1" class="form-control" placeholder="Amount" formControlName="amount">
        </div>
        <div class="col">
          <input type="text" class="form-control" [ngbTypeahead]="searchDose" placeholder="Units (eg: Tab/Syrup/etc.)"
            formControlName="unitType">
        </div>
        <div class="col">
          <input type="text" class="form-control" [ngbTypeahead]="searchFrequency" placeholder="Frequency"
            formControlName="frequency">
        </div>
        <div class="col">
          <input type="text" class="form-control" [ngbTypeahead]="searchAdministration" placeholder="Route(optional)"
            formControlName="route">
        </div>
      </div>
      <br>
      <div>As needed</div>
      <div class="form-row">
        <div class="col">
          <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon1">For</span>
            <input type="number" min="1" class="form-control" placeholder="Duration" formControlName="duration">
          </div>
        </div>
        <div class="col">
          <div class="input-group-prepend">
            <input type="text" class="form-control" [ngbTypeahead]="durationUnit"
              placeholder="Units(eg: Days/Weeks/etc.)" formControlName="durationUnit">
            <span class="input-group-text" id="basic-addon1">total</span>
          </div>
        </div>
        <div class="col">
          <input type="text" class="form-control" placeholder="reason(optional)" formControlName="reason">
        </div>
      </div>
      <br>
      <textarea class="form-control" placeholder="Additional instruction not covered above"
        formControlName="additional"></textarea>
      <br>
      <button type="reset" (click)="onSubmit()" mat-raised-button color="primary" [disabled]='!medForm.valid'>Add
        Meds</button>
    </div>
  </form>
</div> -->

<ng-container *ngIf="meds.length > 0">
  <br />
  <ul class="list-unstyled">
    <mat-list
      [@moveInLeft]
      *ngFor="let meds of meds; index as i"
      class="alert alert-primary"
    >
      <div class="doctor-value" style="white-space: pre-line">
        {{ meds.value }}
      </div>
      <i
        (click)="delete(i)"
        class="material-icons float-right"
        style="color: rgb(235, 30, 30); cursor: pointer"
        >delete</i
      >
    </mat-list>
  </ul>
</ng-container>
