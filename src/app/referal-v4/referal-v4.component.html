<div class="referal-main box-shadow mt-4">
  <div class="referal-header w-100">
    <div class="referal-header-content w-100">
      <img src="assets/svgs/referal.svg" />
      <div class="referal-img-title">Referal</div>
      <div
        data-toggle="collapse"
        data-target="#referalCollapse"
        class="click"
        (click)="isCollapsed = !isCollapsed"
      >
        <img
          class="arrow"
          [src]="
            isCollapsed
              ? 'assets/svgs/plus-icon.svg'
              : 'assets/svgs/minus-icon.svg'
          "
        />
      </div>
    </div>
  </div>

  <div id="referalCollapse" class="referal-details collapse show w-100">
    <hr class="hr" />
    <!-- ul caption -->

    <div class="d-flex mb-2 table-responsive">
      <table class="table w-100">
        <thead class="font-sm">
          <th
            class="border-top {{ header?.key }} {{ header?.thClass }}"
            *ngFor="let header of headers"
          >
            {{ header?.name }}
          </th>
        </thead>

        <tbody>
          <tr *ngFor="let row of data">
            <td *ngFor="let header of headers">
              <ng-container *ngIf="header?.type === 'remark'; else elseBlock">
                {{ row[header.key] }}
                <span class="btn-height click float-right">
                  <img src="assets/svgs/delete-icon.svg" />
                </span>
              </ng-container>

              <ng-template #elseBlock>
                {{ row[header.key] }}
              </ng-template>
            </td>
          </tr>

          <ng-container *ngIf="!showAddMore">
            <tr>
              <td>
                <div class="select">
                  <ng-select
                    class=""
                    [items]="referalList"
                    bindLabel="name"
                    [clearable]="false"
                    [(ngModel)]="selected"
                  >
                  </ng-select>
                </div>
              </td>

              <td>
                <div class="remark-input">
                  <input
                    class="form-control"
                    type="text"
                    name=""
                    placeholder="Type here"
                    id=""
                  />
                </div>
              </td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>

    <div class="" *ngIf="showAddMore">
      <img
        src="assets/svgs/add-more-plus-icon.svg"
        (click)="showAddMore = !showAddMore"
      />

      <label class="ml-2 font-size-md"> Add more medicines</label>
    </div>

    <div class="d-flex" *ngIf="!showAddMore">
      <button
        type="button"
        class="btn cancel-save-btn font-bold"
        (click)="showAddMore = !showAddMore"
      >
        cancel
      </button>

      <button type="button" class="btn cancel-save-btn save-btn font-bold ml-3">
        Save
      </button>
    </div>
  </div>
</div>
